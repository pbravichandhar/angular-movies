/*! angular-movielist 19-07-2014 */
"use strict";var movieApp=angular.module("movieApp",["ngRoute","movieControllers","movieServices"]);movieApp.directive("movielist",function(){return{restrict:"E",template:"<div class='movieOuter' ng-repeat='movieitem in movieslist.parts'>\n                     <a href='#/{{movieitem.id}}'>\n                     <div class='movieInner'><img ng-src='http://image.tmdb.org/t/p/w500{{movieitem.poster_path}}' class='circular'/></div>\n                     <h2 class='movieInner'>{{movieitem.title}}</h2>\n                     </a>\n                     </div>",replace:!0,controller:"MovieListCtrl"}}),movieApp.config(["$routeProvider",function(a){a.when("/",{templateUrl:"partials/overview.html",controller:"MovieListCtrl"}).when("/:movieId",{templateUrl:"partials/movie-detail.html",controller:"MovieDetailCtrl"}).otherwise({redirectTo:"/"})}]);var movieControllers=angular.module("movieControllers",["movieServices"]);movieControllers.controller("MovieListCtrl",["$scope","$http","Movies",function(a,b,c){a.movieslistImage=null,c.getMovies().then(function(b){a.movieslist=b.data,console.log(a.movieslist),a.movieslistImage="http://image.tmdb.org/t/p/w500/"+a.movieslist.poster_path})}]),movieControllers.controller("MovieDetailCtrl",["$scope","$routeParams","$http","Movies",function(a,b,c,d){a.movieImage=null,d.getMovieInfo(b.movieId).then(function(b){a.movie=b.data,a.movieImage="http://image.tmdb.org/t/p/w500"+a.movie.poster_path}),d.getMovieCredits(b.movieId).then(function(b){a.credits=b.data,console.log("credits",a.credits)}),a.imgValue=null,a.isSelected=null,a.changeImage=function(b){a.imgValue="http://image.tmdb.org/t/p/w500"+a.credits.cast[b].profile_path,a.isSelected=b}}]);var movieServices=angular.module("movieServices",[]);movieServices.factory("Movies",["$http",function(a){var b="https://api.themoviedb.org/3/",c={};return c.getMovies=function(){return a({url:b+"collection/528",method:"GET",cache:!0,params:{api_key:"939a3346ba15aa366521cb3895a528fd"}})},c.getMovieInfo=function(c){return a({url:b+"movie/"+c,method:"GET",cache:!0,params:{api_key:"939a3346ba15aa366521cb3895a528fd"}})},c.getMovieCredits=function(c){return a({url:b+"movie/"+c+"/credits",method:"GET",cache:!0,params:{api_key:"939a3346ba15aa366521cb3895a528fd"}})},c}]);